{"version":3,"sources":["../../src/cli/remove.js"],"names":["removeMultipleTemplates","templatesList","length","prompt","type","name","message","choices","templates","Object","keys","default","when","answers","selectedTemplates","then","confirm","console","log","process","exit","template","moreTemplates","push","catch","summary","errors"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AAEA,IAAMA,0BAA0B,SAA1BA,uBAA0B,CAACC,aAAD,EAAmB;AAClD,KAAIA,cAAcC,MAAd,GAAuB,CAA3B,EAA8B;AAC7B,SAAO,0BAAgBD,aAAhB,CAAP;AACA;AACD,QAAO,mBACLE,MADK,CACE,CACP;AACCC,QAAM,UADP;AAECC,QAAM,mBAFP;AAGCC,WAAS,kBAHV;AAICC,WAAS,mBAAM;AACd,OAAIC,YAAY,IAAhB;AACAA,eAAY,iCAAZ;AACA,UAAOC,OAAOC,IAAP,CAAYF,SAAZ,CAAP;AACA;AARF,EADO,EAWP;AACCJ,QAAM,SADP;AAECC,QAAM,SAFP;AAGCC,WAAS,kDAHV;AAICK,WAAS,KAJV;AAKCC,QAAM;AAAA,UAAWC,QAAQC,iBAAR,CAA0BZ,MAA1B,GAAmC,CAA9C;AAAA;AALP,EAXO,CADF,EAoBLa,IApBK,CAoBA,UAACF,OAAD,EAAa;AAClB,MAAIA,QAAQG,OAAR,KAAoB,IAAxB,EAA8B;AAC7BC,WAAQC,GAAR,CAAY,EAAZ;AACA,UAAO,0BAAgBL,QAAQC,iBAAxB,CAAP;AACA;AACD,SAAOK,QAAQC,IAAR,CAAa,CAAb,CAAP;AACA,EA1BK,CAAP;AA2BA,CA/BD;;kBAiCe,UAACC,QAAD,EAAWC,aAAX,EAA6B;AAC3C,KAAIrB,gBAAgB,EAApB;AACA,KAAIoB,QAAJ,EAAc;AACbpB,gBAAcsB,IAAd,CAAmBF,QAAnB;AACA;AACD,KAAIC,aAAJ,EAAmB;AAClBrB,kBAAgB,sBAAMA,aAAN,EAAqBqB,aAArB,CAAhB;AACA;AACDtB,yBAAwBC,aAAxB,EACEc,IADF,CACO,YAAM;AACXE,UAAQC,GAAR,CAAY,EAAZ;AACAD,UAAQC,GAAR,CAAY,UAAZ;AACA,EAJF,EAKEM,KALF,CAKQ,gBAAyB;AAAA,MAAtBC,OAAsB,QAAtBA,OAAsB;AAAA,MAAbC,MAAa,QAAbA,MAAa;;AAC/BT,UAAQC,GAAR,CAAY,EAAZ;AACA,8BAAYO,OAAZ,EAAqBC,UAAU,EAA/B;AACAP,UAAQC,IAAR,CAAa,CAAb;AACA,EATF;AAUA,C","file":"remove.js","sourcesContent":["import inquirer from 'inquirer';\nimport union from 'lodash.union';\nimport { getInstalledTemplates, removeTemplates } from '../api';\nimport { printErrors } from '../utilities';\n\nconst removeMultipleTemplates = (templatesList) => {\n\tif (templatesList.length > 0) {\n\t\treturn removeTemplates(templatesList);\n\t}\n\treturn inquirer\n\t\t.prompt([\n\t\t\t{\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tname: 'selectedTemplates',\n\t\t\t\tmessage: 'Select templates',\n\t\t\t\tchoices: () => {\n\t\t\t\t\tlet templates = null;\n\t\t\t\t\ttemplates = getInstalledTemplates();\n\t\t\t\t\treturn Object.keys(templates);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'confirm',\n\t\t\t\tname: 'confirm',\n\t\t\t\tmessage: 'Are you sure you want to remove those templates?',\n\t\t\t\tdefault: false,\n\t\t\t\twhen: answers => answers.selectedTemplates.length > 0,\n\t\t\t},\n\t\t])\n\t\t.then((answers) => {\n\t\t\tif (answers.confirm === true) {\n\t\t\t\tconsole.log('');\n\t\t\t\treturn removeTemplates(answers.selectedTemplates);\n\t\t\t}\n\t\t\treturn process.exit(1);\n\t\t});\n};\n\nexport default (template, moreTemplates) => {\n\tlet templatesList = [];\n\tif (template) {\n\t\ttemplatesList.push(template);\n\t}\n\tif (moreTemplates) {\n\t\ttemplatesList = union(templatesList, moreTemplates);\n\t}\n\tremoveMultipleTemplates(templatesList)\n\t\t.then(() => {\n\t\t\tconsole.log('');\n\t\t\tconsole.log('Success!');\n\t\t})\n\t\t.catch(({ summary, errors }) => {\n\t\t\tconsole.log('');\n\t\t\tprintErrors(summary, errors || []);\n\t\t\tprocess.exit(1);\n\t\t});\n};\n"]}